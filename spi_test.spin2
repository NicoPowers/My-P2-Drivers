{Object_Title_and_Purpose}


CON
  _clkfreq = 150_000_000
  spi_clk = 60
  spi_mosi = 59
  spi_miso = 58
  spi_cs = 61

VAR
  long  symbol

OBJ
  SPI      : "spi.spin2"


PUB main() | data

pinh(spi_cs)


' clk, mosi, miso, mode, frequency
SPI.SPI_INIT(spi_clk, spi_mosi, spi_miso, 0, 1_000_000)

pinl(spi_cs)
SPI.SPI_WRITE($90FF_FF00, 32, false)
data := SPI.SPI_READ(8, false)
debug(uhex(data))
pinh(spi_cs)



repeat

